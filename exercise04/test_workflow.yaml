- name: Run with SRR12022081
  command: nextflow run ex04_workflow.nf --srr SRR12022081 -profile singularity
  files:
    - path: "results/SRR12022081_1.fastq"
      should_exist: true
    - path: "results/SRR12022081_2.fastq"
      should_exist: true
    - path: "results/SRR12022081_1.txt"
      should_exist: true
    - path: "results/SRR12022081_2.txt"
      should_exist: true
    - path: "results/SRR12022081_1.txt"
      contains:
        - "count"
        - "mean"
        - "max"
    - path: "results/SRR12022081_2.txt"
      must_not_contain:
        - "@SRR*"
  stdout:
    must_not_contain_regex:
      - '^done*'

- name: Testing No SRR provided
  command: nextflow run ex04_workflow.nf -profile singularity
  stdout:
    contains_regex:
      - 'Error'
      - 'SRR'
